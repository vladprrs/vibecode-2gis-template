# Настройка Codex Environments

## Проблема

При запуске проекта в Codex возникает ошибка:

```
Error: spawn xdg-open ENOENT
```

Это происходит потому, что Vite пытается автоматически открыть браузер с помощью
команды `xdg-open`, которая недоступна в среде Codex.

## Решение

### 1. Обновленная конфигурация Vite

Файл `vite.config.ts` уже обновлен:

- Отключено автоматическое открытие браузера (`open: false`)
- Настроен сервер на порт 8080 с хостом 0.0.0.0

### 2. Setup Script для Codex

Используйте следующий setup script в Codex:

```bash
npm install
npm run dev
```

### 3. Альтернативный Setup Script (если нужен более детальный контроль)

```bash
# Установка зависимостей
npm install

# Запуск dev сервера без автоматического открытия браузера
npm run dev

# Или запуск с явным указанием параметров
npx vite --host 0.0.0.0 --port 8080 --open false
```

## Проверка работы

После запуска setup script:

1. **Сервер должен запуститься** на `http://localhost:8080`
2. **Не должно быть ошибок** `xdg-open ENOENT`
3. **Приложение будет доступно** по адресу `http://localhost:8080`

## Дополнительные настройки

### Для production сборки:

```bash
npm run build
npm run preview
```

### Для разработки с hot reload:

```bash
npm run dev
```

## Структура проекта

- `vite.config.ts` - конфигурация Vite с отключенным auto-open
- `package.json` - скрипты для разработки
- `src/` - исходный код приложения
- `public/` - статические файлы

## Troubleshooting

Если проблемы все еще возникают:

1. **Проверьте версию Node.js** - должна быть >= 18.0.0
2. **Очистите кэш** - `npm run clean && npm install`
3. **Проверьте порты** - убедитесь, что порт 8080 свободен
4. **Проверьте права доступа** - убедитесь, что у процесса есть права на запись
   в директорию

## Полезные команды

```bash
# Проверка статуса сервера
curl -s -o /dev/null -w "%{http_code}" http://localhost:8080

# Остановка всех процессов vite
pkill -f vite

# Просмотр логов
npm run dev 2>&1 | tee dev.log
```
